<!DOCTYPE html>
<html lang="en" id="html-lang">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>AI Trade Report - Professional Market Analysis</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/static/css/style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"
      rel="stylesheet"
    />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  </head>
  <body>
    <!-- Language Selection Modal -->
    <div id="language-modal" class="language-modal">
      <div class="language-modal-content">
        <div class="language-header">
          <h2 class="language-title">Select Language / Seleziona Lingua</h2>
          <p class="language-subtitle">
            Choose your preferred language / Scegli la tua lingua preferita
          </p>
        </div>
        <div class="language-options">
          <button class="language-btn" data-lang="en">
            <span class="flag">🇬🇧</span>
            <span class="lang-name">English</span>
            <span class="lang-desc">Professional Market Analysis</span>
          </button>
          <button class="language-btn" data-lang="it">
            <span class="flag">🇮🇹</span>
            <span class="lang-name">Italiano</span>
            <span class="lang-desc">Analisi di Mercato Professionale</span>
          </button>
        </div>
      </div>
    </div>
    <!-- Navigation Header -->
    <nav class="navbar">
      <div class="nav-container">
        <div class="nav-brand">
          <img
            src="/static/logo_trade_on_chain.png"
            alt="AI Trade Report"
            class="brand-logo-img"
          />
          <span class="brand-text" data-translate="brand_name"
            >AI Trade Report</span
          >
        </div>
        <div class="nav-links">
          <a href="/profile" class="nav-link">👤 Profile</a>
          <a href="/logout" class="nav-link">🚪 Logout</a>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
      <div class="hero-background">
        <div class="gradient-orb orb-1"></div>
        <div class="gradient-orb orb-2"></div>
        <div class="gradient-orb orb-3"></div>
      </div>
      <div class="hero-content">
        <div class="hero-badge">
          <span class="badge-icon">🚀</span>
          <span class="badge-text" data-translate="powered_by"
            >Powered by GPT-5</span
          >
        </div>
        <h1 class="hero-title">
          <span data-translate="hero_title">Professional Market Analysis</span>
          <span class="title-highlight" data-translate="hero_subtitle"
            >in Minutes</span
          >
        </h1>
        <p class="hero-description" data-translate="hero_description">
          Generate comprehensive trade reports with AI-powered insights,
          competitive analysis, and strategic recommendations for your business
          expansion.
        </p>
        {% if user %}
        <div class="welcome-message">
          <p>
            Welcome back,
            <strong>{{ user.name }} {{ user.surname }}</strong> from
            <strong>{{ user.company_name }}</strong>!
          </p>
        </div>
        {% endif %}
      </div>
    </section>

    <!-- Main Form Section -->
    <section class="form-section">
      <div class="container">
        <div class="form-card">
          <div class="form-header">
            <h2 class="form-title" data-translate="form_title">
              Create Your Market Analysis
            </h2>
            <p class="form-subtitle" data-translate="form_subtitle">
              Enter your business details to generate a professional report
            </p>
          </div>

          <form id="report-form" class="professional-form">
            <input
              type="hidden"
              name="language"
              id="language-input"
              value="en"
            />
            <input type="hidden" name="ai_model" id="ai_model" value="gpt-5" />
            <div class="form-grid">
              <div class="form-group">
                <label class="form-label">
                  <span class="label-icon">🏢</span>
                  <span data-translate="brand_label">Brand Name</span>
                </label>
                <input
                  type="text"
                  name="brand"
                  class="form-input brand-input"
                  data-placeholder-en="Enter your brand name"
                  data-placeholder-it="Inserisci il nome del tuo brand"
                  placeholder="Enter your brand name"
                  required
                />
                <div class="input-focus-line"></div>
              </div>

              <div class="form-group">
                <label class="form-label">
                  <span class="label-icon">📦</span>
                  <span data-translate="product_label">Product/Service</span>
                </label>
                <select
                  name="product"
                  id="product-select"
                  class="form-control select2-multiple"
                  multiple="multiple"
                  data-placeholder-en="Search and select your products or services"
                  data-placeholder-it="Cerca e seleziona i tuoi prodotti o servizi"
                  required
                ></select>
                <div class="input-focus-line"></div>
              </div>

              <div class="form-group">
                <label class="form-label">
                  <span class="label-icon">💰</span>
                  <span data-translate="budget_label">Investment Budget</span>
                </label>
                <input
                  type="text"
                  name="budget"
                  class="form-input"
                  data-placeholder-en="e.g., €100,000 or $50,000"
                  data-placeholder-it="es. €100.000 o $50.000"
                  placeholder="e.g., €100,000 or $50,000"
                  required
                />
                <div class="input-focus-line"></div>
              </div>

              <div class="form-group">
                <label class="form-label">
                  <span class="label-icon">🏢</span>
                  <span data-translate="enterprise_size_label"
                    >Enterprise Size</span
                  >
                </label>
                <div class="select-wrapper">
                  <select
                    name="enterprise_size"
                    id="enterprise_size"
                    class="form-select"
                  >
                    <option
                      value=""
                      disabled
                      selected
                      data-text-en="Select enterprise size"
                      data-text-it="Seleziona dimensione azienda"
                    >
                      Select enterprise size
                    </option>
                    <option
                      value="small"
                      data-text-en="Small Enterprise"
                      data-text-it="Piccola Impresa"
                    >
                      Small Enterprise
                    </option>
                    <option
                      value="medium"
                      data-text-en="Medium Enterprise"
                      data-text-it="Media Impresa"
                    >
                      Medium Enterprise
                    </option>
                    <option
                      value="large"
                      data-text-en="Big Enterprise"
                      data-text-it="Grande Impresa"
                    >
                      Big Enterprise
                    </option>
                  </select>
                  <div class="select-arrow">▼</div>
                </div>
                <div class="model-info">
                  <span class="info-icon">📊</span>
                  <span class="info-text" data-translate="enterprise_size_info"
                    >Choose your company size for tailored analysis</span
                  >
                </div>
              </div>
            </div>

            <button type="submit" class="submit-button">
              <span class="button-text" data-translate="generate_button"
                >Generate Report</span
              >
              <span class="button-icon">→</span>
              <div class="button-shine"></div>
            </button>
          </form>
        </div>
      </div>
    </section>

    <!-- Enhanced Splash Screen -->
    <div id="splash-screen">
      <div class="loading-content">
        <div class="loading-spinner"></div>
        <h3 class="loading-title" data-translate="loading_title">
          Generating Your Report
        </h3>
        <p class="loading-description" data-translate="loading_description">
          Our AI is analyzing market data, competitive landscape, and strategic
          opportunities for your business expansion.
        </p>
        <div class="loading-steps">
          <div class="step active" data-translate="step_1">
            🔍 Market Research
          </div>
          <div class="step" data-translate="step_2">📊 Data Analysis</div>
          <div class="step" data-translate="step_3">📝 Report Generation</div>
        </div>
      </div>
    </div>
    <script src="/static/js/main.js"></script>
  </body>
</html>
